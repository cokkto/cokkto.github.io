<!DOCTYPE html>
<html>
<body>
  <button onclick="openAndClose()">Open & auto-close</button>

<button onclick="openPopup()">Open & auto-close popup</button>

  <script>
    function openAndClose() {
      const w = window.open("https://google.com");
      setTimeout(() => {
	  console.log(w)
        if (w && !w.closed) {
          w.close();
        }
      }, 1000);
    }
	
	function openPopup() {
      // Open a small popup window (not a tab)
      const popup = window.open(
        "https://example.com", 
        "popupWindow", 
        "width=400,height=300"
      );

      if (popup) {
        // Close it after 3 seconds
        setTimeout(() => {
          if (!popup.closed) {
            popup.close();
          }
        }, 3000);
      } else {
        alert("Popup was blocked by the browser!");
      }
    }
  </script>
</body>
</html>
